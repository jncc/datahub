
@page "/assets/{assetId}"
@model AssetModel

@using Datahub.Web.Models
@using Datahub.Web.Pages.Helpers

@{
    ViewData["Title"] = Model.Asset.Metadata.Title;
}
@{ ViewBag.CurrentPage = "Index"; }

@section Styles {
}

@section Scripts {
    <!-- <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script> -->
}
 
<div class="space-below show-for-medium">
</div>


<div class="container">

<div class="grid-container full">
  <div class="grid-x grid-margin-x">
    <div class="cell medium-expand small-order-1 medium-order-2 space-below">
        
        <!-- Title -->
        <h1 style="margin-bottom: 1rem;">
            <span style="color: #48A943; margin-right:0.3rem;">  
            <i class="fas @AssetHelpers.GetIconName(Model.Asset.Metadata.ResourceType)"
                data-toggle="tooltip" title="@Model.Asset.Metadata.ResourceType"></i>
            </span>
            <span style="margin-right: 0.1em;">@Model.Asset.Metadata.Title</span>
            <span class="text-small text-muted">@Model.Asset.Metadata.DatasetReferenceDate.Substring(0, 4)</span>
        </h1>

        <p>
            @foreach (var k in Model.Asset.Metadata.Keywords)
            {
                @await Html.PartialAsync("_Keyword", new Keyword { Vocab = k.Vocab, Value = k.Value })
            }
        </p>
        <div class="module">
            <p class="collapse" id="collapseExample" aria-expanded="false">
                <span class="text-label">Abstract</span> @Model.Asset.Metadata.Abstract
            </p>
            <div class="float-right">
                <a role="button" class="collapsed" data-toggle="collapse" href="#collapseExample" 
                    aria-expanded="false" aria-controls="collapseExample"></a>
            </div>
        </div>

    </div>
    <div class="cell medium-shrink small-order-2 medium-order-1 space-below">
        @{
            // support adding "img" to the querystring just to see what any page could look like with an image
            if (this.HttpContext.Request.Query["img"] != Microsoft.Extensions.Primitives.StringValues.Empty)
            {
                Model.Asset.Image = new Image { Url = "/images/example-cover-image.png" }; // use dummy image
            }
        }
        @if (Model.Asset.Image != null && Model.Asset.Image.Url.IsNotBlank())
        {
            <img src="@(Model.Asset.Image.Url)" class="asset-image" />
        }
    </div>
  </div>
</div> <!-- grid-container full -->


<!-- tabs -->
<ul class="tabs" data-tabs id="example-tabs">
  <li class="tabs-title is-active"><a href="#panel1" aria-selected="true">Tab 1</a></li>
  <li class="tabs-title"><a data-tabs-target="panel2" href="#panel2">Tab 2</a></li>
</ul>
<div class="tabs-content" data-tabs-content="example-tabs">
  <div class="tabs-panel is-active" id="panel1">
    <p>Vivamus hendrerit arcu sed erat molestie vehicula. Sed auctor neque eu tellus rhoncus ut eleifend nibh porttitor. Ut in nulla enim. Phasellus molestie magna non est bibendum non venenatis nisl tempor. Suspendisse dictum feugiat nisl ut dapibus.</p>
  </div>
  <div class="tabs-panel" id="panel2">
    <p>Suspendisse dictum feugiat nisl ut dapibus.  Vivamus hendrerit arcu sed erat molestie vehicula. Ut in nulla enim. Phasellus molestie magna non est bibendum non venenatis nisl tempor.  Sed auctor neque eu tellus rhoncus ut eleifend nibh porttitor.</p>
  </div>
</div>



</div> <!-- container -->
